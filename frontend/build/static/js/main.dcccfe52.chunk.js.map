{"version":3,"sources":["components/Nav.jsx","components/Navbar.jsx","components/About.jsx","components/Error.jsx","components/Success.jsx","components/Create.jsx","components/Features.jsx","components/Dashboard.jsx","components/Footer.jsx","components/Home.jsx","components/Login.jsx","components/NotFound.jsx","components/Loader.jsx","components/Poll.jsx","components/NoPolls.jsx","components/Polls.jsx","components/Register.jsx","components/Stats.jsx","components/App.jsx","index.js"],"names":["Nav","className","to","Navbar","props","navList","useState","currentUserName","setCurrentUser","isAuthenticated","setIsAuthenticated","loaded","setLoaded","redirect","setRedirect","commonPaths","excludePaths","useEffect","accessToken","localStorage","getItem","requestOptions","headers","authorization","JSON","stringify","currentPath","window","location","pathname","includes","setHomeLoaded","axios","get","then","res","data","catch","err","class","onClick","removeItem","document","querySelector","classList","toggle","About","href","Error","error","length","map","index","Success","success","Create","setError","options","setOptions","question","setQuestion","setSuccess","onSubmit","event","preventDefault","errorBuffer","push","console","log","params","post","setTimeout","response","status","alert","reload","type","value","placeholder","autoComplete","onChange","target","handleQuestion","element","newOptions","handleOptions","splice","removeOptions","Features","Dashboard","Footer","date","Date","getFullYear","Home","homeLoaded","Login","password","setPassword","username","setUsername","setItem","handleUsername","handlePassword","NotFound","Loader","Poll","setCurrentUserName","setIndex","name","count","author","voters","poll","setPoll","id","useParams","onValueChange","option","NoPolls","Polls","allPolls","setAllPolls","myPolls","setMyPolls","showMyPolls","setShowMyPolls","my_polls","polls","filter","sort","compare","all_polls","a","b","toLowerCase","isUppercase","ch","toUpperCase","isLowercase","len_a","len_b","i","j","handleClick","getElementsByName","add","remove","_id","substr","delete","deletePoll","Register","Stats","counts","setCounts","names","setNames","typeOfChart","setTypeOfChart","forEach","prevNames","prevCounts","labels","datasets","label","borderWidth","backgroundColor","borderColor","barOptions","maintainAspectRatio","responsive","scales","y","ticks","precision","plugins","legend","display","title","text","pieOptions","App","exact","path","component","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.dcccfe52.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n// This is an auxiliary component similar to Navbar, but doesn’t display menu items.\r\n// It is used to display when the nav-list is loading.\r\n\r\nconst Nav = () => {\r\n\treturn (\r\n\t\t<nav className=\"navbar\">\r\n\t\t\t<Link to=\"/\" className=\"logo\">\r\n\t\t\t\tPollster\r\n\t\t\t</Link>\r\n\t\t</nav>\r\n\t);\r\n};\r\n\r\nexport default Nav;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Nav from \"./Nav\";\r\n\r\n// This component is rendered in almost every other component.\r\n// It is the header of each page and contains the links to various other pages.\r\n\r\nconst Navbar = (props) => {\r\n\tconst [currentUserName, setCurrentUser] = useState(\"\");\r\n\tconst [isAuthenticated, setIsAuthenticated] = useState(false);\r\n\tconst [loaded, setLoaded] = useState(false);\r\n\tconst [redirect, setRedirect] = useState(false);\r\n\tconst commonPaths = [\"/about\"];\r\n\tconst excludePaths = [\"/\", \"/login\", \"/register\"];\r\n\r\n\tuseEffect(() => {\r\n\t\t// Send access token through authorization header\r\n\t\tlet accessToken = localStorage.getItem(\"accessToken\");\r\n\t\tlet requestOptions = null;\r\n\r\n\t\tif(accessToken) {\r\n\t\t\trequestOptions = {headers: {authorization: `Bearer ${accessToken}`}};\r\n\t\t\tJSON.stringify(requestOptions);\r\n\t\t}\r\n\r\n\t\tconst currentPath = window.location.pathname;\r\n\r\n\t\tif(!excludePaths.includes(currentPath)) {\r\n\t\t\t// Verify the user\r\n\t\t\taxios\r\n\t\t\t\t.get(\"/api/verify\", requestOptions)\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tsetCurrentUser(res.data);\r\n\t\t\t\t\tsetIsAuthenticated(true);\r\n\t\t\t\t\tsetLoaded(true);\r\n\t\t\t\t\tif(props.setHomeLoaded) props.setHomeLoaded(true);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tif(!commonPaths.includes(currentPath)) {\r\n\t\t\t\t\t\tsetRedirect(true);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetLoaded(true);\r\n\t\t\t\t\tif(props.setHomeLoaded) props.setHomeLoaded(true);\r\n\t\t\t\t});\r\n\t\t}\r\n\t\telse if(commonPaths.includes(currentPath)) {\r\n\t\t\tsetIsAuthenticated(true);\r\n\t\t\tsetLoaded(true);\r\n\t\t\tif(props.setHomeLoaded) props.setHomeLoaded(true);\r\n\t\t}\r\n\t}, []);\r\n\r\n\tlet navList;\r\n\r\n\tif(isAuthenticated) { // If user is authenticated\r\n\t\tnavList = (\r\n\t\t\t<ul className=\"nav-list\">\r\n\t\t\t\t<li className=\"nav-link user\">\r\n\t\t\t\t\t{currentUserName}\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<Link to=\"/create\" className=\"nav-link plus\">\r\n\t\t\t\t\t\t<span class=\"material-icons-outlined\">add</span>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<Link to=\"/polls\" className=\"nav-link\">\r\n\t\t\t\t\t\tPolls\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<Link to=\"/about\" className=\"nav-link\">\r\n\t\t\t\t\t\tAbout\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<Link to=\"/\"  className=\"nav-link\" onClick={() => {localStorage.removeItem(\"accessToken\");}}>\r\n\t\t\t\t\t\tLogout\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t)\r\n\t}\r\n\telse {\r\n\t\tnavList = (\r\n\t\t\t<ul className=\"nav-list\">\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<Link to=\"/login\" className=\"nav-link\">\r\n\t\t\t\t\t\tLogin\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<Link to=\"/register\" className=\"nav-link\">\r\n\t\t\t\t\t\tRegister\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<Link to=\"/about\" className=\"nav-link\">\r\n\t\t\t\t\t\tAbout\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t)\r\n\t}\r\n\r\n\tconst handleClick = () => {\r\n\t\tconst navList = document.querySelector('.nav-list');\r\n\t\tnavList.classList.toggle('navbar-toggle');\r\n\t}\r\n\r\n\tif(redirect) {\r\n\t\treturn <Redirect to=\"/\"/>;\r\n\t}\r\n\r\n\treturn (\r\n\t\tloaded || excludePaths.includes(window.location.pathname) ? \r\n\t\t\t<nav className=\"navbar\">\r\n\t\t\t\t<Link to={isAuthenticated ? \"/home\" : \"/\"} className=\"logo\">\r\n\t\t\t\t\tPollster \r\n\t\t\t\t</Link>\r\n\r\n\t\t\t\t{/* Hamburger */}\r\n\t\t\t\t<span className=\"material-icons hamburger\" onClick={handleClick}>menu</span>\r\n\r\n\t\t\t\t{navList /* Display menu */}\r\n\t\t\t</nav> :\r\n\t\t<Nav />\r\n\t);\r\n};\r\n\r\nexport default Navbar;\r\n","import React from \"react\";\r\nimport Navbar from \"./Navbar\";\r\n\r\n// This is a static page used to display information about the web application and its creators.\r\n\r\nconst About = () => {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Navbar />\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<div className=\"box\">\r\n\t\t\t\t\tThis is a simple polling web application that helps people to create polls and take surveys, vote for polls and view statistics.\r\n\t\t\t\t\tThis project is created by 2 CSE'23 undergraduates of <a href=\"https://vnit.ac.in/\">VNIT</a>, <a href=\"https://github.com/prabhav951\">Prabhav</a> and <a href=\"https://github.com/GowthamG30/\">Gowtham</a>.\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default About;\r\n","import React from \"react\";\r\n\r\n// This component is used to print any error messages of a page present in the error buffer\r\n// which are accumulated whenever there is a requirement.\r\n\r\nconst Error = (props) => {\r\n\treturn (\r\n\t\t<>\r\n\t\t{\r\n\t\t\tprops.error.length ?\r\n\t\t\t\t<div className=\"msg error\">\r\n\t\t\t\t\t{props.error.map((err, index) => \r\n\t\t\t\t\t\t<p key={index}>\r\n\t\t\t\t\t\t\t<span class=\"material-icons warning\">warning_amber</span>\r\n\t\t\t\t\t\t\t{err}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t: null\r\n\t\t}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Error;\r\n","import React from \"react\";\r\n\r\n// This component is used to print any success messages of a page present in the success buffer\r\n// which are accumulated whenever there is a requirement.\r\n\r\nconst Success = (props) => {\r\n\treturn (\r\n\t\t<>\r\n\t\t{\r\n\t\t\tprops.success.length ?\r\n\t\t\t\t<div className=\"msg success\">\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t<span class=\"material-icons tick\">check_circle_outline</span>\r\n\t\t\t\t\t\t{props.success}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t: null\r\n\t\t}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Success;\r\n","import React, { useState } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Error from \"./Error\";\r\nimport Navbar from \"./Navbar\";\r\nimport Success from \"./Success\";\r\n\r\n// This page helps the user to create polls, which contains questions and options.\r\n\r\nconst Create = () => {\r\n\tconst [error, setError] = useState([]);\r\n\tconst [options, setOptions] = useState([\"\"]);\r\n\tconst [question, setQuestion] = useState(\"\");\r\n\tconst [redirect, setRedirect] = useState(false);\r\n\tconst [success, setSuccess] = useState(\"\");\r\n\r\n\tconst handleOptions = (index, event) => {\r\n\t\tconst newOptions = [...options];\r\n\t\tnewOptions[index] = event.target.value;\r\n\t\tsetOptions(newOptions);\r\n\t};\r\n\r\n\tconst handleQuestion = (event) => {\r\n\t\tsetQuestion(event.target.value);\r\n\t};\r\n\r\n\tconst addOptions = () => {\r\n\t\tsetOptions([...options, \"\"]);\r\n\t};\r\n\r\n\tconst removeOptions = (index) => {\r\n\t\tconst newOptions = [...options];\r\n\t\tnewOptions.splice(index, 1);\r\n\t\tsetOptions(newOptions);\r\n\t};\r\n\r\n\tconst handleSubmit = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tlet errorBuffer = [];\r\n\r\n\t\t// Validate Inputs\r\n\t\tif(!question)\r\n\t\t\terrorBuffer.push(\"Question should not be left empty\");\r\n\t\t\r\n\t\tif(options.includes(\"\"))\r\n\t\t\terrorBuffer.push(\"No option should be left empty\");\r\n\r\n\t\tif(errorBuffer.length) {\r\n\t\t\tsetError(errorBuffer);\r\n\t\t\tconsole.log(\"Error in validation\" + errorBuffer);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst params = JSON.stringify({\r\n\t\t\tquestion: question,\r\n\t\t\toptions: options\r\n\t\t});\r\n\r\n\t\t// Send access token through authorization header\r\n\t\tlet requestOptions = {headers: {}};\r\n\t\trequestOptions.headers[\"content-type\"] = \"application/json\";\r\n\t\t\r\n\t\tlet accessToken = localStorage.getItem(\"accessToken\");\r\n\t\tif(accessToken) {\r\n\t\t\trequestOptions.headers[\"authorization\"] = `Bearer ${accessToken}`;\r\n\t\t}\r\n\t\tJSON.stringify(requestOptions);\r\n\t\t\r\n\t\t// Pass poll data to the server\r\n\t\taxios\r\n\t\t\t.post(\"/api/create\", params, requestOptions)\r\n\t\t\t.then(res => {\r\n\t\t\t\tsetSuccess(\"Poll created!\");\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tsetRedirect(true);\r\n\t\t\t\t}, 750);\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tif(err.response.status === 403) {\r\n\t\t\t\t\talert(\"Session expired\");\r\n\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t}\r\n\t\t\t\telse if(err.response.status === 500) {\r\n\t\t\t\t\talert(\"Internal server error\");\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\talert(\"Something went wrong\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tif(redirect) {\r\n\t\treturn <Redirect to=\"/polls\"/>;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Navbar />\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<form className=\"create-form\" onSubmit={handleSubmit}>\r\n\t\t\t\t\t<p className=\"create-label\">Question:</p>\r\n\t\t\t\t\t<input className=\"text-input\" type=\"text\" value={question || \"\"} placeholder=\"Enter question...\" autoComplete=\"off\" onChange={event => handleQuestion(event)} />\r\n\t\t\t\t\t\r\n\t\t\t\t\t<p className=\"create-label\">Options:</p>\r\n\t\t\t\t\t{options.map((element, index) => (\r\n\t\t\t\t\t\t<div className=\"option\" key={index}>\r\n\t\t\t\t\t\t\t<input className=\"text-input\" type=\"text\" value={element || \"\"} placeholder={\"Enter option \"+(index+1)} autoComplete=\"off\" onChange={event => handleOptions(index, event)} />\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tindex ? \r\n\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"btn remove\" onClick={() => removeOptions(index)}>\r\n\t\t\t\t\t\t\t\t\t\t<span className=\"material-icons\">delete_outline</span>\r\n\t\t\t\t\t\t\t\t\t</button> \r\n\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t))}\r\n\r\n\t\t\t\t\t<button className=\"btn btn-orange add\" type=\"button\" onClick={() => addOptions()}>Add Option</button><br/>\r\n\t\t\t\t\t<Error error={error}/>\r\n\t\t\t\t\t<button className=\"btn btn-orange submit\" type=\"submit\">Create</button>\r\n\t\t\t\t\t<Success success={success}/>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Create;\r\n","import React from \"react\";\r\n\r\n// This component contains the gist of the web application and is used in Dashboard and Home pages.\r\n\r\nconst Features = () => {\r\n\treturn (\r\n\t\t<div className=\"features\">\r\n\t\t\t<div className=\"feature-tab\">\r\n\t\t\t\t<span class=\"material-icons-outlined feature-icon\">add_circle_outline</span>\r\n\t\t\t\t<div className=\"feature-title\">Create polls</div>\r\n\t\t\t\t<div className=\"feature-desc\">Create and conduct polls at ease</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"feature-tab\">\r\n\t\t\t\t<span class=\"material-icons-outlined feature-icon\">how_to_vote</span>\r\n\t\t\t\t<div className=\"feature-title\">Cast your vote</div>\r\n\t\t\t\t<div className=\"feature-desc\">Vote your opinions on polls</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"feature-tab\">\r\n\t\t\t\t<span class=\"material-icons-outlined feature-icon\">poll</span>\r\n\t\t\t\t<div className=\"feature-title\">Analyse results</div>\r\n\t\t\t\t<div className=\"feature-desc\">Visualize the results in different ways</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Features;\r\n","import React from \"react\";\r\nimport Features from \"./Features\";\r\nimport Navbar from \"./Navbar\";\r\n\r\n// This is the landing page to be displayed if no user has logged in.\r\n// It contains a gist of the web application and options to login and register.\r\n\r\nconst Dashboard = () => {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Navbar />\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<div className=\"home-section\">\r\n\t\t\t\t\t\t<div className=\"home-left-section\">\r\n\t\t\t\t\t\t\t<h1 className=\"big-heading\">Know the opinion of your audience with a simple poll!</h1>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t<Features />\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Dashboard;\r\n","import React from \"react\";\r\n\r\n// This component is present at the bottom of every page, mentioning the copyright statement.\r\n\r\nconst Footer = () => {\r\n\tconst date = new Date();\r\n\treturn (\r\n\t\t<footer>\r\n\t\t\tCopyright © {date.getFullYear()}\r\n\t\t</footer>\r\n\t);\r\n};\r\n\r\nexport default Footer;\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Features from \"./Features\";\r\nimport Navbar from \"./Navbar\";\r\n\r\n// This is the landing page to be displayed if a user has logged in.\r\n// It contains a gist of the web application and relevant options like Create, Polls, About, Logout.\r\n\r\nconst Home = () => {\r\n\tconst [homeLoaded, setHomeLoaded] = useState(false);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Navbar setHomeLoaded={setHomeLoaded}/>\r\n\t\t\t{\r\n\t\t\t\thomeLoaded ?\r\n\t\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t\t<div className=\"home-section\">\r\n\t\t\t\t\t\t\t<div className=\"home-left-section\">\r\n\t\t\t\t\t\t\t\t<h1 className=\"big-heading\">Know the opinion of your audience with a simple poll!</h1>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<Link to=\"/create\" className=\"btn btn-orange create-button\">\r\n\t\t\t\t\t\t\t\t\tCreate Poll!\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Features />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t: null\r\n\t\t\t}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Home;\r\n","import React, { useState } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Error from \"./Error\";\r\nimport Navbar from \"./Navbar\";\r\nimport Success from \"./Success\";\r\n\r\n// Login page\r\n\r\nconst Login = () => {\r\n\tconst [error, setError] = useState([]);\r\n\tconst [password, setPassword] = useState(\"\");\r\n\tconst [redirect, setRedirect] = useState(false);\r\n\tconst [success, setSuccess] = useState(\"\");\r\n\tconst [username, setUsername] = useState(\"\");\r\n\r\n\tconst handleUsername = (event) => {\r\n\t\tsetUsername(event.target.value);\r\n\t};\r\n\r\n\tconst handlePassword = (event) => {\r\n\t\tsetPassword(event.target.value);\r\n\t};\r\n\r\n\tconst handleSubmit = (event) => {\r\n\t\tevent.preventDefault();\r\n\r\n\t\tlet errorBuffer = [];\r\n\t\t// Validate Inputs\r\n\t\tif(!username)\r\n\t\t\terrorBuffer.push(\"Username should not be left empty\");\r\n\t\t\r\n\t\tif(!password)\r\n\t\t\terrorBuffer.push(\"Password should not be left empty\");\r\n\r\n\t\tif(errorBuffer.length) {\r\n\t\t\tsetError(errorBuffer);\t\t\t\r\n\t\t\tconsole.log(\"Error in validation\" + errorBuffer);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst params = JSON.stringify({\r\n\t\t\t\"username\": username,\r\n\t\t\t\"password\": password\r\n\t\t});\r\n\r\n\t\t// Send username and password to the server\r\n\t\taxios\r\n\t\t\t.post(\"/api/login\", params, {\r\n\t\t\t\t\"headers\": {\r\n\t\t\t\t\t\"content-type\": \"application/json\",\r\n\t\t\t\t},})\r\n\t\t\t.then(res => {\r\n\t\t\t\tlocalStorage.setItem(\"accessToken\", res.data.accessToken);\r\n\t\t\t\tsetSuccess(\"Login Successful\");\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tsetRedirect(true);\r\n\t\t\t\t}, 750);\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\terrorBuffer.push(err.response.data);\r\n\t\t\t\tsetError(errorBuffer);\r\n\t\t\t});\r\n\t};\r\n\r\n\tif(redirect) {\r\n\t\treturn <Redirect to=\"/home\"/>;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Navbar />\r\n\t\t\t<div className=\"login-page container\">\r\n\t\t\t\t<h1 className=\"big-heading\">Login here!</h1>\r\n\t\t\t\t<form className=\"login-form\" onSubmit={handleSubmit}>\r\n\t\t\t\t\t<input className=\"text-input login-input login-input-top\" type=\"text\" value={username || \"\"} placeholder=\"Username\" autoComplete=\"off\" onChange={event => handleUsername(event)} />\r\n\t\t\t\t\t<input className=\"text-input login-input login-input-bottom\" type=\"password\" value={password || \"\"} placeholder=\"Password\" autoComplete=\"off\" onChange={event => handlePassword(event)} />\r\n\t\t\t\t\t<p>New user? <Link to=\"/register\">Register here</Link></p>\r\n\t\t\t\t\t<Error error={error}/>\r\n\t\t\t\t\t<button className=\"btn btn-orange login-button\" type=\"submit\">Login</button>\r\n\t\t\t\t\t<Success success={success}/>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Login;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\"; \r\nimport Nav from \"./Nav\";\r\n\r\n// This page is rendered if the user tries to access a page which is not present in the application.\r\n\r\nconst NotFound = () => {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Nav />\r\n\t\t\t<div className=\"container not-found-page\">\r\n\t\t\t\t<h1 className=\"four-zero-four\">404</h1>\r\n\t\t\t\t<h3 className=\"not-found-title\">Page Not Found</h3>\r\n\t\t\t\t<p className=\"not-found-desc\">...maybe the page you are looking for is not found or never existed.</p>\r\n\t\t\t\t<Link to=\"/home\" className=\"btn btn-orange go-to-home-button\">Go to Home</Link>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default NotFound;\r\n","import React from \"react\";\r\n\r\n// This component is rendered in pages with API calls. It is a simple loading animated component.\r\n// It helps to pause the display of unnecessary content until the data is fetched from the backend.\r\n\r\nconst Loader = () => {\r\n\treturn (\r\n\t\t<div className=\"loader\">\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Loader;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link, Redirect, useParams } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Error from \"./Error\";\r\nimport Loader from \"./Loader\";\r\nimport Navbar from \"./Navbar\";\r\nimport Success from \"./Success\";\r\n\r\n// This page is used to view the question and options of each poll clearly and also vote for that poll.\r\n\r\nconst Poll = () => {\r\n\tconst [currentUserName, setCurrentUserName] = useState(\"\");\r\n\tconst [error, setError] = useState([]);\r\n\tconst [index, setIndex] = useState(-1);\r\n\tconst [loaded, setLoaded] = useState(false);\r\n\tconst [poll, setPoll] = useState({question: \"\", options: [{name: \"\", count: 0}], author: \"\", voters: []});\r\n\tconst [redirect, setRedirect] = useState(false);\r\n\tconst [success, setSuccess] = useState(\"\");\r\n\tconst { id } = useParams();\r\n\r\n\tuseEffect(() => {\r\n\t\t// Send access token through authorization header\r\n\t\tlet requestOptions = {headers: {}};\r\n\t\trequestOptions.headers[\"content-type\"] = \"application/json\";\r\n\t\t\r\n\t\tlet accessToken = localStorage.getItem(\"accessToken\");\r\n\t\tif(accessToken) {\r\n\t\t\trequestOptions.headers[\"authorization\"] = `Bearer ${accessToken}`;\r\n\t\t}\r\n\t\tJSON.stringify(requestOptions);\r\n\r\n\t\t// Get the poll data\r\n\t\taxios\r\n\t\t\t.get(\"/api/poll/\" + id, requestOptions)\r\n\t\t\t.then(res => {\r\n\t\t\t\tsetCurrentUserName(res.data.currentUserName);\r\n\t\t\t\tsetPoll(res.data.poll);\r\n\t\t\t\tsetLoaded(true);\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tif(err.response.status === 403) {\r\n\t\t\t\t\talert(\"Session expired\");\r\n\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t}\r\n\t\t\t\telse if(err.response.status === 500) {\r\n\t\t\t\t\talert(\"Internal server error\");\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\talert(\"Something went wrong\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}, [id]);\r\n\r\n\tconst handleSubmit = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tlet errorBuffer = [];\r\n\r\n\t\tif(index !== -1) {\r\n\t\t\tconst params = JSON.stringify({\r\n\t\t\t\t\"poll\": poll,\r\n\t\t\t\t\"index\": index\r\n\t\t\t});\r\n\r\n\t\t\tif(!poll.voters.includes(currentUserName)) {\r\n\t\t\t\t// Send access token through authorization header\r\n\t\t\t\tlet requestOptions = {headers: {}};\r\n\t\t\t\trequestOptions.headers[\"content-type\"] = \"application/json\";\r\n\t\t\t\t\r\n\t\t\t\tlet accessToken = localStorage.getItem(\"accessToken\");\r\n\t\t\t\tif(accessToken) {\r\n\t\t\t\t\trequestOptions.headers[\"authorization\"] = `Bearer ${accessToken}`;\r\n\t\t\t\t}\r\n\t\t\t\tJSON.stringify(requestOptions);\r\n\t\t\t\t\r\n\t\t\t\t// Vote for a poll\r\n\t\t\t\taxios\r\n\t\t\t\t\t.post(\"/api/vote/\" + id, params, requestOptions)\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tsetSuccess(\"Vote submitted successfully!\");\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tsetRedirect(true);\r\n\t\t\t\t\t\t}, 750);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\tif(err.response.status === 403) {\r\n\t\t\t\t\t\t\talert(\"Session expired\");\r\n\t\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if(err.response.status === 500) {\r\n\t\t\t\t\t\t\talert(\"Internal server error\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\talert(\"Something went wrong\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\terrorBuffer.push(\"You can only vote once!\");\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\terrorBuffer.push(\"Select atleast one option\");\r\n\t\t}\r\n\t\tsetError(errorBuffer);\r\n\t}\r\n\r\n\tif(redirect) {\r\n\t\treturn <Redirect to={\"../poll/\" + id + \"/stats\"}/>;\r\n\t}\r\n\r\n\tconst onValueChange = (event) => {\r\n\t\tsetIndex(event.target.value);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Navbar />\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t{\r\n\t\t\t\t\tloaded ?\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<div className=\"btn-group\">\r\n\t\t\t\t\t\t\t\t<Link to={\"/poll/\"+id+\"/stats\"} className=\"btn btn-orange stats-btn\">\r\n\t\t\t\t\t\t\t\t\tStats\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tpoll.question === \"\" && poll.options[0].name === \"\" && poll.options[0].count === 0 ?\r\n\t\t\t\t\t\t\t\t<h5>Empty poll...</h5> :\r\n\t\t\t\t\t\t\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t\t\t\t\t\t\t<div className=\"poll-form\">\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"poll-question\">{poll.question}</p>\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tpoll.options.map((option, index) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label className=\"poll-option-label\" key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={index}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={onValueChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>{option.name}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<Error error={error}/>\r\n\t\t\t\t\t\t\t\t\t<button className=\"btn btn-orange submit\" type=\"submit\">Vote</button>\r\n\t\t\t\t\t\t\t\t\t<Success success={success}/>\r\n\t\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t: <Loader />\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Poll;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n// This component is used to convey that no polls are present if there are none.\r\n// It also helps the user to create one, if he/she wants to.\r\n\r\nconst NoPolls = () => {\r\n\treturn (\r\n\t\t<div className=\"box\">\r\n\t\t\t<p>Uh oh...No polls here, <Link to=\"/create\">Create one</Link></p>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default NoPolls;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Loader from \"./Loader\";\r\nimport Navbar from \"./Navbar\";\r\nimport NoPolls from \"./NoPolls\";\r\nimport Success from \"./Success\";\r\n\r\n// This page contains all the polls by default where each poll is truncated to atmost first 100 characters of the question.\r\n\r\nconst Polls = () => {\r\n\tconst [allPolls, setAllPolls] = useState([]);\r\n\tconst [currentUserName, setCurrentUserName] = useState(\"\");\r\n\tconst [loaded, setLoaded] = useState(false);\r\n\tconst [myPolls, setMyPolls] = useState([]);\r\n\tconst [showMyPolls, setShowMyPolls] = useState(false);\r\n\tconst [success, setSuccess] = useState(\"\");\r\n\r\n\tuseEffect(() => {\r\n\t\t// Send access token through authorization header\r\n\t\tlet requestOptions = {headers: {}};\r\n\t\trequestOptions.headers[\"content-type\"] = \"application/json\";\r\n\t\t\r\n\t\tlet accessToken = localStorage.getItem(\"accessToken\");\r\n\t\tif(accessToken) {\r\n\t\t\trequestOptions.headers[\"authorization\"] = `Bearer ${accessToken}`;\r\n\t\t}\r\n\t\tJSON.stringify(requestOptions);\r\n\r\n\t\t// Get all polls data\r\n\t\taxios\r\n\t\t\t.get(\"/api/polls\", requestOptions)\r\n\t\t\t.then(res => {\r\n\t\t\t\tsetCurrentUserName(res.data.currentUserName);\r\n\r\n\t\t\t\tconst my_polls = res.data.polls.filter(poll => poll.author === res.data.currentUserName);\r\n\t\t\t\tmy_polls.sort(compare);\r\n\t\t\t\tsetMyPolls(my_polls);\r\n\r\n\t\t\t\tconst all_polls = res.data.polls;\r\n\t\t\t\tall_polls.sort((a, b) => (a.author=== b.author) ? (compare(a.question, b.question)) : (a.author.toLowerCase() < b.author.toLowerCase() ? -1 : 1));\r\n\t\t\t\tsetAllPolls(all_polls);\r\n\r\n\t\t\t\tsetLoaded(true);\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tif(err.response.status === 403) {\r\n\t\t\t\t\talert(\"Session expired\");\r\n\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t}\r\n\t\t\t\telse if(err.response.status === 500) {\r\n\t\t\t\t\talert(\"Internal server error\");\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\talert(\"Something went wrong\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}, []);\r\n\r\n\tconst isUppercase = (ch) => {\r\n\t\treturn ch === ch.toUpperCase();\r\n\t};\r\n\r\n\tconst isLowercase = (ch) => {\r\n\t\treturn ch === ch.toLowerCase();\r\n\t};\r\n\r\n\t// Compares two strings and returns the first index where they differ\r\n\tconst compare = (a, b) => {\r\n\t\tconst len_a = a.length, len_b = b.length;\r\n\t\tlet i = 0, j = 0;\r\n\t\twhile(i < len_a && j < len_b) {\r\n\t\t\tif(isLowercase(a[i]) && isLowercase(b[j])) {\r\n\t\t\t\treturn (a[i]<b[j] ? -1 : 1);\r\n\t\t\t}\r\n\t\t\telse if(isUppercase(a[i]) && isUppercase(b[j])) {\r\n\t\t\t\treturn (a[i]<b[j] ? -1 : 1);\r\n\t\t\t}\r\n\t\t\telse if(isLowercase(a[i]) && isUppercase(b[j])) {\r\n\t\t\t\treturn -1;\r\n\t\t\t}\r\n\t\t\telse if(isUppercase(a[i]) && isLowercase(b[j])) {\r\n\t\t\t\treturn 1;\r\n\t\t\t}\r\n\t\t\ti++; j++;\r\n\t\t}\r\n\t\treturn 0;\r\n\t}\r\n\r\n\tconst deletePoll = id => {\r\n\t\t// Send access token through authorization header\r\n\t\tlet requestOptions = {headers: {}};\r\n\t\trequestOptions.headers[\"content-type\"] = \"application/json\";\r\n\t\t\r\n\t\tlet accessToken = localStorage.getItem(\"accessToken\");\r\n\t\tif(accessToken) {\r\n\t\t\trequestOptions.headers[\"authorization\"] = `Bearer ${accessToken}`;\r\n\t\t}\r\n\t\tJSON.stringify(requestOptions);\r\n\r\n\t\t// Delete a poll\r\n\t\taxios\r\n\t\t\t.delete(\"/api/poll/\" + id, requestOptions)\r\n\t\t\t.then(res => {\r\n\t\t\t\tsetSuccess(\"Poll deleted.\");\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t}, 750);\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tif(err.response.status === 403) {\r\n\t\t\t\t\talert(\"Session expired\");\r\n\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t}\r\n\t\t\t\telse if(err.response.status === 500) {\r\n\t\t\t\t\talert(\"Internal server error\");\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\talert(\"Something went wrong\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst handleClick = (event) => {\r\n\t\tif(event.target.name === \"myPolls\") {\r\n\t\t\tsetShowMyPolls(true);\r\n\t\t\tdocument.getElementsByName(\"myPolls\")[0].classList.add(\"clicked\");\r\n\t\t\tdocument.getElementsByName(\"allPolls\")[0].classList.remove(\"clicked\");\r\n\t\t}\r\n\t\telse {\r\n\t\t\tsetShowMyPolls(false);\r\n\t\t\tdocument.getElementsByName(\"allPolls\")[0].classList.add(\"clicked\");\r\n\t\t\tdocument.getElementsByName(\"myPolls\")[0].classList.remove(\"clicked\");\r\n\t\t}\r\n\t};\r\n\r\n\tconst getPolls = () => {\r\n\t\tif(showMyPolls) {\r\n\t\t\treturn (\r\n\t\t\t\t<>\r\n\t\t\t\t{\r\n\t\t\t\t\tmyPolls.length ?\r\n\t\t\t\t\t<div className=\"polls\">\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tmyPolls.map((poll, index) => (\r\n\t\t\t\t\t\t\t<div className=\"myPoll-list-item\" key={index}>\r\n\t\t\t\t\t\t\t\t<Link to={\"/poll/\" + poll._id} className=\"myPoll-link\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"myPoll-content\">{poll.question === \"\" ? \"Empty question\" : (poll.question.length<=100 ? poll.question : poll.question.substr(0, 100)+\"...\")}</p>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t<button type=\"button\" className=\"btn remove\" onClick={() => deletePoll(poll._id)}>\r\n\t\t\t\t\t\t\t\t\t<span className=\"material-icons\">delete_outline</span>\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div> :\r\n\t\t\t\t\t<NoPolls />\r\n\t\t\t\t}\r\n\t\t\t\t</>\r\n\t\t\t);\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn (\r\n\t\t\t\t<>\r\n\t\t\t\t{\r\n\t\t\t\t\tallPolls.length ?\r\n\t\t\t\t\t<div className=\"polls\">\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tallPolls.map((poll, index) =>\r\n\t\t\t\t\t\t\t\t<Link to={\"/poll/\" + poll._id} key={index} className=\"poll-link\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"poll-content\">{poll.question === \"\" ? \"Empty question\" : (poll.question.length<=100 ? poll.question : poll.question.substr(0, 100)+\"...\")}</p>\r\n\t\t\t\t\t\t\t\t\t<p className=\"author\">{`- ${poll.author}`}</p>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div> :\r\n\t\t\t\t\t<NoPolls />\r\n\t\t\t\t}\r\n\t\t\t\t</>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Navbar />\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t{\r\n\t\t\t\t\tloaded ?\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<Success success={success}/>\r\n\t\t\t\t\t\t\t<div className=\"btn-group\">\r\n\t\t\t\t\t\t\t\t<button className=\"btn btn-group-btn left-btn\" name=\"myPolls\" onClick={handleClick}>My polls</button>\r\n\t\t\t\t\t\t\t\t<button className=\"btn btn-group-btn right-btn clicked\" name=\"allPolls\" onClick={handleClick}>All polls</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{getPolls()}\r\n\t\t\t\t\t\t</> :\r\n\t\t\t\t\t<Loader />\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Polls;\r\n","import React, { useState } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Error from \"./Error\";\r\nimport Navbar from \"./Navbar\";\r\nimport Success from \"./Success\";\r\n\r\n// Register page\r\n\r\nconst Register = () => {\r\n\tconst [error, setError] = useState([]);\r\n\tconst [password, setPassword] = useState(\"\");\r\n\tconst [redirect, setRedirect] = useState(false);\r\n\tconst [success, setSuccess] = useState(\"\");\r\n\tconst [username, setUsername] = useState(\"\");\r\n\t\r\n\tconst handleUsername = (event) => {\r\n\t\tsetUsername(event.target.value);\r\n\t};\r\n\r\n\tconst handlePassword = (event) => {\r\n\t\tsetPassword(event.target.value);\r\n\t};\r\n\r\n\tconst handleSubmit = (event) => {\r\n\t\tevent.preventDefault();\r\n\r\n\t\tlet errorBuffer = [];\r\n\r\n\t\t// Validate Inputs\r\n\t\tif(!username)\r\n\t\t\terrorBuffer.push(\"Username should not be left empty\");\r\n\t\t\r\n\t\tif(!password)\r\n\t\t\terrorBuffer.push(\"Password should not be left empty\");\r\n\r\n\t\tif(errorBuffer.length) {\r\n\t\t\tsetError(errorBuffer);\t\t\t\r\n\t\t\tconsole.log(\"Error in validation\" + errorBuffer);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst params = JSON.stringify({\r\n\t\t\t\"username\": username,\r\n\t\t\t\"password\": password\r\n\t\t});\r\n\r\n\t\t// Register user\r\n\t\taxios\r\n\t\t\t.post(\"/api/register\", params, {\r\n\t\t\t\t\"headers\": {\r\n\t\t\t\t\t\"content-type\": \"application/json\",\r\n\t\t\t\t},})\r\n\t\t\t.then(res => {\r\n\t\t\t\tsetSuccess(\"Registration Successful\");\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tsetRedirect(true);\r\n\t\t\t\t}, 750);\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\terrorBuffer.push(err.response.data);\r\n\t\t\t\tsetError(errorBuffer);\r\n\t\t\t});\r\n\t};\r\n\r\n\tif(redirect) {\r\n\t\treturn <Redirect to=\"/login\"/>;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Navbar />\r\n\t\t\t<div className=\"container login-page\">\r\n\t\t\t\t<h1 className=\"big-heading\">Register here!</h1>\r\n\t\t\t\t<form className=\"login-form\" onSubmit={handleSubmit}>\r\n\t\t\t\t\t<input className=\"text-input login-input login-input-top\" type=\"text\" value={username || \"\"} placeholder=\"Username\" autoComplete=\"off\" onChange={event => handleUsername(event)} />\r\n\t\t\t\t\t<input className=\"text-input login-input login-input-bottom\" type=\"password\" value={password || \"\"} placeholder=\"Password\" autoComplete=\"off\" onChange={event => handlePassword(event)} />\r\n\t\t\t\t\t<p>Already a user? <Link to=\"/login\">Login here</Link></p>\r\n\t\t\t\t\t<Error error={error}/>\r\n\t\t\t\t\t<button className=\"btn btn-orange login-button\" type=\"submit\">Register</button>\r\n\t\t\t\t\t<Success success={success}/>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Register;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { Bar, Pie } from \"react-chartjs-2\";\r\nimport axios from \"axios\";\r\nimport Loader from \"./Loader\";\r\nimport Navbar from \"./Navbar\";\r\n\r\n// This page is used to view the current results of the poll.\r\n\r\nconst Stats = () => {\r\n\tconst [counts, setCounts] = useState([]);\r\n\tconst [loaded, setLoaded] = useState(false);\r\n\tconst [names, setNames] = useState([]);\r\n\tconst [question, setQuestion] = useState(\"\");\r\n\tconst [typeOfChart, setTypeOfChart] = useState(0);\r\n\tconst { id } = useParams();\r\n\r\n\tuseEffect(() => {\r\n\t\t// Send access token through authorization header\r\n\t\tlet requestOptions = {headers: {}};\r\n\t\trequestOptions.headers[\"content-type\"] = \"application/json\";\r\n\t\t\r\n\t\tlet accessToken = localStorage.getItem(\"accessToken\");\r\n\t\tif(accessToken) {\r\n\t\t\trequestOptions.headers[\"authorization\"] = `Bearer ${accessToken}`;\r\n\t\t}\r\n\t\tJSON.stringify(requestOptions);\r\n\r\n\t\t// Get the poll data\r\n\t\taxios\r\n\t\t\t.get(\"/api/poll/\" + id, requestOptions)\r\n\t\t\t.then(res => {\r\n\t\t\t\tif(res.data.poll.question.length > 50) {\r\n\t\t\t\t\tsetQuestion(res.data.poll.question.substr(0, 50) + \"...\");\r\n\t\t\t\t}\r\n\t\t\t\tsetQuestion(res.data.poll.question);\r\n\t\t\t\tconst options = res.data.poll.options;\r\n\t\t\t\toptions.forEach(element => {\r\n\t\t\t\t\tlet value = element.name;\r\n\t\t\t\t\tif(value.length > 20) {\r\n\t\t\t\t\t\tvalue = value.substr(0, 20) + \"...\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetNames((prevNames) => [...prevNames, value]);\r\n\t\t\t\t\tsetCounts((prevCounts) => [...prevCounts, element.count]);\r\n\t\t\t\t});\r\n\t\t\t\tsetLoaded(true);\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tif(err.response.status === 403) {\r\n\t\t\t\t\talert(\"Session expired\");\r\n\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t}\r\n\t\t\t\telse if(err.response.status === 500) {\r\n\t\t\t\t\talert(\"Internal server error\");\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\talert(\"Something went wrong\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}, [id]);\r\n\r\n\tconst data = {\r\n\t\tlabels: names,\r\n\t\tdatasets: [{\r\n\t\t\t\tlabel: \"# of Votes\",\r\n\t\t\t\tdata: counts,\r\n\t\t\t\tborderWidth: 1,\r\n\t\t\t\tbackgroundColor: [\r\n\t\t\t\t\t'rgba(255, 99, 132, 0.2)',\r\n\t\t\t\t\t'rgba(54, 162, 235, 0.2)',\r\n\t\t\t\t\t'rgba(255, 206, 86, 0.2)',\r\n\t\t\t\t\t'rgba(75, 192, 192, 0.2)',\r\n\t\t\t\t\t'rgba(153, 102, 255, 0.2)',\r\n\t\t\t\t\t'rgba(255, 159, 64, 0.2)',\r\n\t\t\t\t],\r\n\t\t\t\tborderColor: [\r\n\t\t\t\t\t'rgba(255, 99, 132, 1)',\r\n\t\t\t\t\t'rgba(54, 162, 235, 1)',\r\n\t\t\t\t\t'rgba(255, 206, 86, 1)',\r\n\t\t\t\t\t'rgba(75, 192, 192, 1)',\r\n\t\t\t\t\t'rgba(153, 102, 255, 1)',\r\n\t\t\t\t\t'rgba(255, 159, 64, 1)',\r\n\t\t\t\t],\r\n\t\t}]\r\n\t};\r\n\r\n\tconst barOptions = {\r\n\t\tmaintainAspectRatio: false,\t// Removes aspect ratio\r\n\t\tresponsive: true,\t// Adjusts width and height according to container\r\n\t\tscales: {\r\n\t\t\ty: {\r\n\t\t\t\tticks: {\r\n\t\t\t\t\tprecision: 0\t// To remove decimal labels\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tplugins: {\r\n\t\t\tlegend: {\r\n\t\t\t\tdisplay: false\t// Remove chart legend\r\n\t\t\t},\r\n\t\t\ttitle: {\r\n\t\t\t\tdisplay: true,\r\n\t\t\t\ttext: question,\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tconst pieOptions = {\r\n\t\tmaintainAspectRatio: false,\t// Removes aspect ratio\r\n\t\tresponsive: true,\t// Adjusts width and height according to container\r\n\t\tplugins: {\r\n\t\t\tlegend: {\r\n\t\t\t\tdisplay: true\t// Show chart legend\r\n\t\t\t},\r\n\t\t\ttitle: {\r\n\t\t\t\tdisplay: true,\r\n\t\t\t\ttext: question,\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleClick = (event) => {\r\n\t\tif(event.target.name === \"Bar\") {\r\n\t\t\tsetTypeOfChart(0);\r\n\t\t\tdocument.getElementsByName(\"Bar\")[0].classList.add(\"clicked\");\r\n\t\t\tdocument.getElementsByName(\"Pie\")[0].classList.remove(\"clicked\");\r\n\t\t}\r\n\t\telse {\r\n\t\t\tsetTypeOfChart(1);\r\n\t\t\tdocument.getElementsByName(\"Pie\")[0].classList.add(\"clicked\");\r\n\t\t\tdocument.getElementsByName(\"Bar\")[0].classList.remove(\"clicked\");\r\n\t\t}\r\n\t}\r\n\r\n\tconst getChart = () => {\r\n\t\tif(typeOfChart === 0) {\r\n\t\t\treturn (\r\n\t\t\t\t<Bar\r\n\t\t\t\t\tdata={data}\r\n\t\t\t\t\toptions={barOptions}\r\n\t\t\t\t/>\r\n\t\t\t);\r\n\t\t}\r\n\t\telse if(typeOfChart === 1) {\r\n\t\t\treturn (\r\n\t\t\t\t<Pie\r\n\t\t\t\t\tdata={data}\r\n\t\t\t\t\toptions={pieOptions}\r\n\t\t\t\t/>\r\n\t\t\t);\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn (null);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Navbar />\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<div className=\"btn-group\">\r\n\t\t\t\t\t<button className=\"btn btn-group-btn left-btn clicked\" name=\"Bar\" onClick={handleClick}>Bar</button>\r\n\t\t\t\t\t<button className=\"btn btn-group-btn right-btn\" name=\"Pie\" onClick={handleClick}>Pie</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t{\r\n\t\t\t\t\tloaded ?\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<div className=\"chart-container\">\r\n\t\t\t\t\t\t\t\t{getChart()}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</> :\r\n\t\t\t\t\t<Loader />\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Stats;\r\n","import React from \"react\";\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\"; \r\nimport About from \"./About\";\r\nimport Create from \"./Create\";\r\nimport Dashboard from \"./Dashboard\";\r\nimport Footer from \"./Footer\";\r\nimport Home from \"./Home\";\r\nimport Login from \"./Login\";\r\nimport NotFound from \"./NotFound\";\r\nimport Poll from \"./Poll\";\r\nimport Polls from \"./Polls\";\r\nimport Register from \"./Register\";\r\nimport Stats from \"./Stats\";\r\n\r\n// This component is used to render the appropriate page based on the switch condition of react routes.\r\n// The footer is also rendered here.\r\n\r\nconst App = () => {\r\n\treturn (\r\n\t\t<Router>\r\n\t\t\t<Switch>\r\n\t\t\t\t<Route exact path=\"/\" component={Dashboard} />\r\n\t\t\t\t<Route exact path=\"/home\" component={Home} />\r\n\t\t\t\t<Route exact path=\"/register\" component={Register} />\r\n\t\t\t\t<Route exact path=\"/login\" component={Login} />\r\n\t\t\t\t<Route exact path=\"/polls\" component={Polls} />\r\n\t\t\t\t<Route exact path=\"/about\" component={About} />\r\n\t\t\t\t<Route exact path=\"/create\" component={Create} />\r\n\t\t\t\t<Route exact path=\"/poll/:id\" component={Poll} />\r\n\t\t\t\t<Route exact path=\"/poll/:id/stats\" component={Stats} />\r\n\t\t\t\t<Route component={NotFound}/>\r\n\t\t\t</Switch>\r\n\t\t\t<Footer />\r\n\t\t</Router>\r\n\t);\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./components/App\";\r\n\r\nReactDOM.render(\r\n\t<App />,\r\n\tdocument.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}